{"version":3,"file":"Accordion-6ea8e4d5.js","sources":["../../src/components/Accordion.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport Toggle from \"./Toggle\";\r\nimport {ToggleProps} from \"../interfaces/InfoProps\";\r\n\r\nexport interface AccordionProps {\r\n    infos: ToggleProps[] | undefined,\r\n    width?: string,\r\n    upperState?: number | null,\r\n    upperSetState?: (i:number) => void\r\n    compressed?: boolean,\r\n    className?: string,\r\n    bgTitle?: string,\r\n    bgText?: string\r\n}\r\n\r\nexport default function Accordion({infos, width = \"600px\", upperState, upperSetState, compressed = false, className, bgTitle, bgText}: AccordionProps) {\r\n\r\n    const [isOpen, setIsOpen] = useState<number|null>(null);\r\n    const click = useRef<any>(null);\r\n\r\n    function toggleText(i:number) {\r\n        isOpen === i ? setIsOpen(null) : setIsOpen(i);\r\n    }\r\n\r\n    function clickOutside(e: any) {\r\n        if(click.current && !click.current.contains(e.target)) {\r\n            setIsOpen(null);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"mousedown\", clickOutside);\r\n        return () => {\r\n            window.removeEventListener(\"mousedown\", clickOutside);\r\n        }\r\n    }, [clickOutside])\r\n\r\n    return(\r\n        <ul className={className} ref={click} style={{width: `${width}`}}>\r\n            {infos &&\r\n                infos.map((info, i) =>\r\n                    <Toggle\r\n                        key={i}\r\n                        info={info}\r\n                        i={i}\r\n                        isOpen={typeof upperState === \"undefined\" ? isOpen : upperState}\r\n                        onClick={upperSetState ? upperSetState : toggleText}\r\n                        className={isOpen === i || i === infos.length - 1 ? \"\" : \"border-b border-surface-low\"}\r\n                        width=\"100%\"\r\n                        compressed={compressed}\r\n                        bgTitle={bgTitle}\r\n                        bgText={bgText}/>\r\n            )}</ul>\r\n    )\r\n}"],"names":["Accordion","infos","width","upperState","upperSetState","compressed","className","bgTitle","bgText","isOpen","setIsOpen","useState","click","useRef","toggleText","i","clickOutside","useEffect","jsx","info","Toggle"],"mappings":"+HAeA,SAAAA,EAAA,CAAA,MAAAC,EAAA,MAAAC,EAAA,QAAA,WAAAC,EAAA,cAAAC,EAAA,WAAAC,EAAA,GAAA,UAAAC,EAAA,QAAAC,EAAA,OAAAC,CAAA,EAAA,CAEI,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,IAAA,EACAC,EAAAC,SAAA,IAAA,EAEA,SAAAC,EAAAC,EAAA,CACIL,EAAAD,IAAAM,EAAA,KAAAA,CAAA,CAA4C,CAGhD,SAAAC,EAAA,EAAA,CACIJ,EAAA,SAAA,CAAAA,EAAA,QAAA,SAAA,EAAA,MAAA,GACIF,EAAA,IAAA,CACJ,CAGJO,OAAAA,EAAAA,UAAA,KACI,OAAA,iBAAA,YAAAD,CAAA,EACA,IAAA,CACI,OAAA,oBAAA,YAAAA,CAAA,CAAoD,GACxD,CAAAA,CAAA,CAAA,EAGJE,EAAAA,IAAA,KAAA,CAAA,UAAAZ,EAAA,IAAAM,EAAA,MAAA,CAAA,MAAA,GAAAV,CAAA,EAAA,EAAA,SAAAD,GAAAA,EAAA,IAGkB,CAAAkB,EAAAJ,IAAAG,EAAA,IACFE,EAAC,CAAA,KAAAD,EAEG,EAAAJ,EACA,OAAA,OAAAZ,EAAA,IAAAM,EAAAN,EACqD,QAAAC,GAAAU,EACZ,UAAAL,IAAAM,GAAAA,IAAAd,EAAA,OAAA,EAAA,GAAA,8BACgB,MAAA,OACnD,WAAAI,EACN,QAAAE,EACA,OAAAC,CACA,EAAAO,CATK,CASU,CAAA,CAAA,CAGvC"}